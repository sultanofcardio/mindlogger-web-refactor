import{j as e,L as l}from"./index-iuE2XUfD.js";import{u as d,B as o,T as a,M as f,f as g,c as j,m as w}from"./LaunchDarklyProvider-DZRUnlz_.js";import{i as x,P as p,A as y}from"./index-uoSvyVcv.js";import{c as u,M as h,b as T,aR as O}from"./index-CZL7y8-_.js";import"./signup.schema-Ch9EpRU0.js";const P=(r,t)=>u(["acceptTransferOwnership",r],()=>x.acceptTransferOwnership(r),t);var S={VITE_ROUTER_BASE:"/mindlogger-web-refactor/pr-preview/pr-1/",BASE_URL:"/mindlogger-web-refactor/pr-preview/pr-1/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const k=({appletId:r,keyParam:t})=>{const{t:n}=d({keyPrefix:"transferOwnership"}),i=S.VITE_ADMIN_PANEL_HOST??"",{isLoading:s,isError:c}=P({appletId:r,key:t},{onSuccess(){f.track({action:h.TransferOwnershipAccepted,[T.AppletId]:r})}});return s?e.jsx(l,{}):c?e.jsx(p,{message:n("notFound")}):e.jsxs(o,{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center","data-testid":"transfer-ownership-accepted",children:[e.jsx(a,{variant:"body1",fontSize:"30px",margin:"16px 0px",testid:"transfer-ownership-accepted-title",children:n("accepted.title")}),e.jsxs(o,{"data-testid":"transfer-ownership-accepted-content",children:[e.jsx(a,{variant:"body2",fontSize:"18px",children:n("accepted.message1")}),e.jsxs(a,{variant:"body2",fontSize:"18px",sx:{"& a:hover":{textDecoration:"underline"}},children:[n("accepted.message2")," ",e.jsx("a",{href:i,target:"_blank",rel:"noreferrer",children:n("adminPanel")})]})]})]})},v=(r,t)=>u(["declineTransferOwnership",r],()=>x.declineTransferOwnerShip(r),t),A=({appletId:r,keyParam:t})=>{const{t:n}=d({keyPrefix:"transferOwnership"}),{isLoading:i,isError:s}=v({appletId:r,key:t},{onSuccess(){f.track({action:h.TransferOwnershipDeclined})}});return i?e.jsx(l,{}):s?e.jsx(p,{message:n("notFound")}):e.jsxs(o,{display:"flex",flex:1,flexDirection:"column",justifyContent:"center",alignItems:"center",textAlign:"center","data-testid":"transfer-ownership-declined",children:[e.jsx(a,{variant:"body1",fontSize:"30px",margin:"16px 0px",testid:"transfer-ownership-declined-title",children:n("declined.title")}),e.jsxs(o,{"data-testid":"transfer-ownership-declined-content",children:[e.jsx(a,{variant:"body2",fontSize:"18px",children:n("declined.message1")}),e.jsx(a,{variant:"body2",fontSize:"18px",children:n("declined.message2")})]})]})};function L(){const{appletId:r}=g(),[t]=j(),n=w(),{t:i}=d(),s=t.get("key"),c=t.get("action");if(!r||!s||!c)return e.jsx(p,{message:i("wrondLinkParametrError")});const m={backRedirectPath:`${n.pathname}${n.search}`};return e.jsx(o,{display:"flex",flex:1,justifyContent:"center",margin:"24px 0px",children:e.jsxs(O,{fallback:e.jsx(y,{redirectState:m}),children:[c==="accept"&&e.jsx(k,{appletId:r,keyParam:s}),c==="decline"&&e.jsx(A,{appletId:r,keyParam:s})]})})}export{L as default};
