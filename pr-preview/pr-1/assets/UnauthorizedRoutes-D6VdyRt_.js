const __vite__fileDeps=["assets/index-bFjG1q00.js","assets/index-iuE2XUfD.js","assets/index-CZL7y8-_.js","assets/LaunchDarklyProvider-DZRUnlz_.js","assets/LaunchDarklyProvider-BQ28woaZ.css","assets/index-DcKkXPIX.js","assets/index-DELc0EAY.js","assets/index-11JCWChH.js","assets/isContainsSpaces-CSoBuoo8.js","assets/index-M82MG2mr.js","assets/index-uoSvyVcv.js","assets/signup.schema-Ch9EpRU0.js","assets/Invitation-CAiT-wyU.js","assets/index-BR0wRRWM.js","assets/index-BxSOzWcX.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{F as ne,b as L,H as $,I as N,J as ie,K as le,M as ce,r as d,e as pe,_ as J,j as e,c as A,N as ue,O as z,q as K,p as Q,o as V,k as X,m as de,t as Y,E as T}from"./index-iuE2XUfD.js";import{j as U,a as Z,u as O,k as me,d as ee,B as h,T as E,e as I,l as xe,M as se,m as ge,L as he,R as fe,h as p,N as je}from"./LaunchDarklyProvider-DZRUnlz_.js";import{s as be,l as ye,m as Pe,n as ve,o as Ce,u as te,f as oe,B as re,C as q,I as w,D as W,e as H,p as Se,q as ke,g as G,M as _e,R as u,i as we,L as Le,H as Te,F as Re,j as Fe,k as Me}from"./index-CZL7y8-_.js";import{S as Ee}from"./signup.schema-Ch9EpRU0.js";const De=["component","direction","spacing","divider","children","className","useFlexGap"],Be=ne(),Ne=be("div",{name:"MuiStack",slot:"Root",overridesResolver:(s,t)=>t.root});function Ae(s){return ue({props:s,name:"MuiStack",defaultTheme:Be})}function Ie(s,t){const r=d.Children.toArray(s).filter(Boolean);return r.reduce((a,l,o)=>(a.push(l),o<r.length-1&&a.push(d.cloneElement(t,{key:`separator-${o}`})),a),[])}const Ve=s=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[s],Oe=({ownerState:s,theme:t})=>{let r=L({display:"flex",flexDirection:"column"},$({theme:t},N({values:s.direction,breakpoints:t.breakpoints.values}),a=>({flexDirection:a})));if(s.spacing){const a=ie(t),l=Object.keys(t.breakpoints.values).reduce((n,i)=>((typeof s.spacing=="object"&&s.spacing[i]!=null||typeof s.direction=="object"&&s.direction[i]!=null)&&(n[i]=!0),n),{}),o=N({values:s.direction,base:l}),m=N({values:s.spacing,base:l});typeof o=="object"&&Object.keys(o).forEach((n,i,j)=>{if(!o[n]){const g=i>0?o[j[i-1]]:"column";o[n]=g}}),r=le(r,$({theme:t},m,(n,i)=>s.useFlexGap?{gap:z(a,n)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Ve(i?o[i]:s.direction)}`]:z(a,n)}}))}return r=ce(t.breakpoints,r),r};function $e(s={}){const{createStyledComponent:t=Ne,useThemeProps:r=Ae,componentName:a="MuiStack"}=s,l=()=>K({root:["root"]},n=>Q(a,n),{}),o=t(Oe);return d.forwardRef(function(n,i){const j=r(n),b=pe(j),{component:g="div",direction:C="column",spacing:R=0,divider:S,children:f,className:k,useFlexGap:y=!1}=b,c=J(b,De),P={direction:C,spacing:R,useFlexGap:y},v=l();return e.jsx(o,L({as:g,ownerState:P,ref:i,className:A(v.root,k)},c,{children:S?Ie(f,S):f}))})}const ze=$e({createStyledComponent:V("div",{name:"MuiStack",slot:"Root",overridesResolver:(s,t)=>t.root}),useThemeProps:s=>X({props:s,name:"MuiStack"})});function Ue(s){return Q("MuiFormControlLabel",s)}const M=de("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),qe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],We=s=>{const{classes:t,disabled:r,labelPlacement:a,error:l,required:o}=s,m={root:["root",r&&"disabled",`labelPlacement${Y(a)}`,l&&"error",o&&"required"],label:["label",r&&"disabled"],asterisk:["asterisk",l&&"error"]};return K(m,Ue,t)},He=V("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(s,t)=>{const{ownerState:r}=s;return[{[`& .${M.label}`]:t.label},t.root,t[`labelPlacement${Y(r.labelPlacement)}`]]}})(({theme:s,ownerState:t})=>L({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${M.disabled}`]:{cursor:"default"}},t.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},t.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},t.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${M.label}`]:{[`&.${M.disabled}`]:{color:(s.vars||s).palette.text.disabled}}})),Ge=V("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(s,t)=>t.asterisk})(({theme:s})=>({[`&.${M.error}`]:{color:(s.vars||s).palette.error.main}})),Je=d.forwardRef(function(t,r){var a,l;const o=X({props:t,name:"MuiFormControlLabel"}),{className:m,componentsProps:x={},control:n,disabled:i,disableTypography:j,label:b,labelPlacement:g="end",required:C,slotProps:R={}}=o,S=J(o,qe),f=ye(),k=(a=i??n.props.disabled)!=null?a:f==null?void 0:f.disabled,y=C??n.props.required,c={disabled:k,required:y};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof n.props[D]>"u"&&typeof o[D]<"u"&&(c[D]=o[D])});const P=Pe({props:o,muiFormControl:f,states:["error"]}),v=L({},o,{disabled:k,labelPlacement:g,required:y,error:P.error}),F=We(v),B=(l=R.typography)!=null?l:x.typography;let _=b;return _!=null&&_.type!==U&&!j&&(_=e.jsx(U,L({component:"span"},B,{className:A(F.label,B==null?void 0:B.className),children:_}))),e.jsxs(He,L({className:A(F.root,m),ownerState:v,ref:r},S,{children:[d.cloneElement(n,c),y?e.jsxs(ze,{display:"block",children:[_,e.jsxs(Ge,{ownerState:v,"aria-hidden":!0,className:F.asterisk,children:[" ","*"]})]}):_]}))}),Ke=({onChange:s,children:t,id:r,checked:a})=>e.jsx(ve,{id:r,children:e.jsx(Je,{control:e.jsx(Ce,{checked:a,onChange:s}),label:t})}),Qe=s=>te(["signup"],Z.signup,{...s}),Xe=s=>te(["recoveryPassword"],Z.recoveryPassword,{...s}),Ye=()=>{const{t:s,i18n:t}=O({keyPrefix:"ForgotPassword"});return{t:s,i18n:t}},Ze=me.pick({email:!0}),es=()=>{const{t:s}=Ye(),t=oe({defaultValues:{email:""}},Ze),{handleSubmit:r,watch:a}=t,{mutate:l,isLoading:o,isSuccess:m,error:x}=Xe(),n=i=>{l(i)};return e.jsxs(re,{...t,onSubmit:r(n),children:[e.jsx(q,{sx:{marginBottom:"12px"},children:e.jsx("p",{children:s("formTitle")})}),e.jsx(w,{id:"forgot-password-form-email",type:"text",name:"email",placeholder:s("email")||"",autoComplete:"email"}),e.jsx(W,{errorMessage:x==null?void 0:x.evaluatedMessage}),e.jsxs(q,{sx:{marginTop:"12px"},children:[!m&&e.jsx(ee,{type:"submit",variant:"contained",text:s("button"),isLoading:o}),m&&e.jsx(W,{successMessage:s("successMessage",{email:a("email")})})]})]})};function ss(){const{t:s}=O({keyPrefix:"ForgotPassword"});return e.jsx(h,{display:"flex",flex:1,children:e.jsxs(h,{flex:1,textAlign:"center",margin:"24px 0px",padding:"0px 12px",children:[e.jsx(E,{variant:"h4",margin:"16px 0px",children:s("title")}),e.jsx(h,{bgcolor:I.colors.light.onPrimary,padding:"10px",maxWidth:"400px",margin:"0 auto",children:e.jsx(es,{})})]})})}const ae=()=>{const{t:s,i18n:t}=O({keyPrefix:"SignUp"});return{t:s,i18n:t}},ts="https://mindlogger.org/terms",os=({locationState:s})=>{const{t}=ae(),{addErrorBanner:r,addSuccessBanner:a,removeErrorBanner:l}=xe(),[o,m]=H(),[x,n]=H(),[i,j]=d.useState(!1),{onLoginSuccess:b}=Se({backRedirectPath:s==null?void 0:s.backRedirectPath}),g=oe({defaultValues:{email:"",firstName:"",lastName:"",password:"",confirmPassword:""}},Ee),{handleSubmit:C}=g,{mutate:R,isLoading:S}=ke({onSuccess(c,P){const{user:v,token:F}=c.data.result;return b({user:{...v,password:P.password},tokens:F})}}),{mutate:f,isLoading:k}=Qe({onSuccess(){l(),a(t("success")),se.track({action:_e.SignupSuccessful});const{email:c,password:P}=g.getValues();return R({email:c,password:P})},onError(c){c.evaluatedMessage&&r(c.evaluatedMessage)}}),y=c=>i?f(c):r(t("pleaseAgreeTerms"));return e.jsx(re,{...g,onSubmit:C(y),children:e.jsxs(h,{display:"flex",flexDirection:"column",gap:"24px",children:[e.jsx(w,{id:"signup-form-email",type:"text",name:"email",placeholder:t("email")||"",autoComplete:"username"}),e.jsx(w,{id:"signup-form-firstname",type:"text",name:"firstName",placeholder:t("firstName")||""}),e.jsx(w,{id:"signup-form-lastname",type:"text",name:"lastName",placeholder:t("lastName")||""}),e.jsx(w,{id:"signup-form-new-password",type:o,name:"password",placeholder:t("password")||"",autoComplete:"new-password",Icon:e.jsx(G,{isSecure:o==="password",onClick:m})}),e.jsx(w,{id:"signup-form-confirm-password",type:x,name:"confirmPassword",placeholder:t("confirmPassword")||"",autoComplete:"new-password",Icon:e.jsx(G,{isSecure:x==="password",onClick:n})}),e.jsx(h,{display:"flex",justifyContent:"center",children:e.jsx(Ke,{id:"terms",onChange:()=>j(c=>!c),children:e.jsxs(E,{variant:"body1",children:[`${t("iAgreeTo")} `,e.jsx("a",{href:ts,target:"_blank",rel:"noreferrer",children:t("termsOfService")})]})})}),e.jsx(ee,{type:"submit",variant:"contained",text:t("create"),isLoading:k||S})]})})};function rs(){const{t:s}=ae(),t=ge();return d.useEffect(()=>{se.trackPageView("Create account")},[]),e.jsx(h,{display:"flex",flex:1,justifyContent:"center",alignItems:"center",textAlign:"center",children:e.jsxs(h,{flex:1,padding:"24px 32px",children:[e.jsx(E,{variant:"h5",color:I.colors.light.onSurface,fontSize:"22px",fontWeight:"700",lineHeight:"28px",sx:{marginBottom:"24px"},children:s("title")}),e.jsx(h,{className:"signupForm",maxWidth:"400px",margin:"0 auto",children:e.jsx(os,{locationState:t.state})}),e.jsxs(h,{margin:"24px 0px",display:"flex",justifyContent:"center",children:[e.jsxs(E,{fontSize:"16px",fontWeight:"400",lineHeight:"20px",letterSpacing:"0.1px",children:[s("or"),","]})," ",e.jsx(E,{color:I.colors.light.primary,fontSize:"16px",fontWeight:"400",lineHeight:"20px",letterSpacing:"0.1px",sx:{textDecoration:"underline"},children:e.jsx(he,{to:u.login.path,relative:"path",children:s("logIn")})})]})]})})}const as=d.lazy(()=>T(()=>import("./index-bFjG1q00.js"),__vite__mapDeps([0,1,2,3,4]))),ns=d.lazy(()=>T(()=>import("./index-DcKkXPIX.js"),__vite__mapDeps([5,1,3,4,6,2]))),is=d.lazy(()=>T(()=>import("./index-11JCWChH.js"),__vite__mapDeps([7,1,3,4,2,8]))),ls=d.lazy(()=>T(()=>import("./index-M82MG2mr.js"),__vite__mapDeps([9,1,3,4,2,10,11,12]))),cs=d.lazy(()=>T(()=>import("./index-BR0wRRWM.js"),__vite__mapDeps([13,1,3,4,2,12,10,11]))),ps=d.lazy(()=>T(()=>import("./index-BxSOzWcX.js"),__vite__mapDeps([14,1,3,4,10,2,11])));function gs(){return e.jsxs(fe,{children:[e.jsx(p,{path:u.publicSurvey.path,element:e.jsx(ns,{})}),e.jsx(p,{path:u.publicAutoCompletion.path,element:e.jsx(we,{})}),e.jsxs(p,{element:e.jsx(Le,{header:e.jsx(Te,{}),footer:e.jsx(Re,{})}),children:[e.jsx(p,{path:u.appletDetails.path,element:e.jsx(Fe,{})}),e.jsx(p,{index:!0,path:u.login.path,element:e.jsx(Me,{})}),e.jsx(p,{path:u.signup.path,element:e.jsx(rs,{})}),e.jsx(p,{path:u.forgotPassword.path,element:e.jsx(ss,{})}),e.jsx(p,{path:u.changePassword.path,element:e.jsx(is,{})}),e.jsx(p,{path:u.invitation.path,element:e.jsx(ls,{})}),e.jsx(p,{path:u.privateJoin.path,element:e.jsx(cs,{})}),e.jsx(p,{path:u.transferOwnership.path,element:e.jsx(ps,{})}),e.jsx(p,{path:u.publicJoin.path,element:e.jsx(as,{})}),e.jsx(p,{path:"*",element:e.jsx(je,{to:u.login.path})})]})]})}export{gs as default};
